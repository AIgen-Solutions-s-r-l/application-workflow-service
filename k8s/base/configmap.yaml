apiVersion: v1
kind: ConfigMap
metadata:
  name: application-manager-config
  labels:
    app.kubernetes.io/name: application-manager
data:
  # Service Settings
  SERVICE_NAME: "application_manager_service"
  ENVIRONMENT: "production"
  DEBUG: "false"

  # Logging
  LOG_LEVEL: "INFO"
  JSON_LOGS: "true"
  ENABLE_LOGSTASH: "false"

  # MongoDB Database Name
  MONGODB_DATABASE: "resumes"

  # MongoDB Connection Pool
  MONGO_MAX_POOL_SIZE: "100"
  MONGO_MIN_POOL_SIZE: "10"
  MONGO_MAX_IDLE_TIME_MS: "30000"
  MONGO_CONNECT_TIMEOUT_MS: "5000"
  MONGO_SERVER_SELECTION_TIMEOUT_MS: "5000"
  MONGO_SOCKET_TIMEOUT_MS: "30000"

  # Queue Names
  MIDDLEWARE_QUEUE: "middleware_notification_queue"
  APPLICATION_PROCESSING_QUEUE: "application_processing_queue"
  APPLICATION_DLQ: "application_dlq"

  # Async Processing
  ASYNC_PROCESSING_ENABLED: "true"

  # Cache Settings
  CACHE_ENABLED: "true"
  CACHE_DEFAULT_TTL: "300"
  CACHE_KEY_PREFIX: "app_manager"
  CACHE_FALLBACK_TO_MEMORY: "true"

  # Rate Limiting
  RATE_LIMIT_ENABLED: "true"
  RATE_LIMIT_APPLICATIONS: "100/hour"
  RATE_LIMIT_REQUESTS: "1000/hour"

  # Retry Settings
  MAX_RETRIES: "5"
  RETRY_BASE_DELAY: "1.0"
  RETRY_MAX_DELAY: "16.0"

  # Authentication
  ALGORITHM: "HS256"
  ACCESS_TOKEN_EXPIRE_MINUTES: "30"

  # Migrations
  MIGRATIONS_ENABLED: "true"
  MIGRATIONS_AUTO_RUN: "true"
  MIGRATIONS_LOCK_TIMEOUT: "300"
